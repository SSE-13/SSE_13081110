var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var human = new render.DisplayObjectContainer();
var humanContainer = new render.DisplayObjectContainer();
humanContainer.x = -50;
humanContainer.y = -80;
human.addChild(humanContainer);
var trunk = new render.Bitmap();
trunk.source = "trunk.png";
trunk.y = 77;
trunk.x = 14;
humanContainer.addChild(trunk);
var head = new render.Bitmap();
head.source = "head.png";
humanContainer.addChild(head);
var left_arm = new render.Bitmap();
left_arm.source = "left_arm.png";
left_arm.x = 68;
left_arm.y = 86;
humanContainer.addChild(left_arm);
var right_arm = new render.Bitmap();
right_arm.source = "right_arm.png";
right_arm.x = -5;
right_arm.y = 70;
humanContainer.addChild(right_arm);
var left_leg = new render.Bitmap();
left_leg.source = "left_leg.png";
left_leg.x = 45;
left_leg.y = 110;
humanContainer.addChild(left_leg);
var right_leg = new render.Bitmap();
right_leg.source = "right_leg.png";
right_leg.x = 10;
right_leg.y = 110;
humanContainer.addChild(right_leg);
var renderCore = new render.RenderCore();
renderCore.start(human, ["trunk.png", "head.png", "left_arm.png", "right_arm.png", "left_leg.png", "right_leg.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.x = 0;
        this.y = 0;
        this.vy = 1;
        this.vr = 1;
        this.vx = 1;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        // this.x = 100;//+= duringTime * this.vx;
        //this.y = 100;
        this.x += this.vx * duringTime;
        this.y += this.vy * duringTime;
        this.rotation += this.vr * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(human);
body.x = 100;
body.y = 100;
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var headHitTest = function (localPoint, displayObject) {
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
    var b = false;
    if (localPoint.x <= 80 && localPoint.y <= 80) {
        b = true;
    }
    return b;
};
var legHitTest = function (localPoint, displayObject) {
    var c = false;
    // alert (`点击位置为${localPoint.x},${localPoint.y}`);
    if ((localPoint.x > -35 && localPoint.x <= -6 && localPoint.y > 0 && localPoint.y <= 25) ||
        (localPoint.x > -0 && localPoint.x <= 15 && localPoint.y > 0 && localPoint.y <= 25)) {
        c = true;
    }
    return c;
};
var headOnClick = function () {
    //修改 HumanBody 的速度，使其反向移动
    if (headHitTest) {
        if (body.vr == 0 && body.vx == 0 && body.vy == 0) {
            body.vx = 1;
            body.vy = 1;
            body.vr = 1;
        }
        else {
            body.vr *= -1;
        }
    }
};
var legOnClick = function () {
    if (legHitTest) {
        body.vx = 0;
        body.vy = 0;
        body.vr = 0;
        body.rotation = 0;
    }
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(left_leg, legHitTest, legOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ2hELElBQUksY0FBYyxHQUFHLElBQUksTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFFekQsY0FBYyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNyQixjQUFjLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDO0FBQ3JCLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7QUFFL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDM0IsS0FBSyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUM7QUFDWCxLQUFLLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNYLGNBQWMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDekIsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUk5QixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNuQyxRQUFRLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQztBQUNqQyxRQUFRLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNkLFFBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDO0FBQ2QsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUVsQyxJQUFJLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztB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